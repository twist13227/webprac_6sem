# Система генеалогической информации
Ниже описывается концептуальная модель пользовательского интерфейса приложения: набор страниц и их содержание, схема навигации между ними, сценарии использования. Приводится схема и описание базы данных.

## ER-диаграмма базы данных
![ER-диаграмма базы данных](./database_scheme "ER-диаграмма базы данных")

Комментарии:
* PostgreSQL
* Файлы создания и заполнения БД лежат в src/main/resources/sql/
* Поддерживаемые связи между 2 людьми указаны на картинке 

## Описание страниц
![Схема навигации](./pages_scheme "Схема навигации")

С любой страницы можно перейти на главную, нажав соответствующую кнопку.

### Главная страница
* Ссылка на форму для поиска связей между двумя людьми по их ФИО
* Форма для добавления нового человека в базу данных
* Ссылка на список всех людей
* Форма для поиска человека по имени, отсылает на персональную страницу человека
* Ссылка на страницу с примерами готовых деревьев
* Ссылка на страницу-генератор нового дерева

### Страница для проверки родственных связей между 2 людьми
* Возможность ввести 2 ФИО
* Настраиваемый уровень дальности родственных связей (по числу элементарных связей)
* Кнопка "проверить"
* Список связей  (если они есть)

### Страница добавления человека в базу данных
* Формы для ввода всех необходимых данных о человеке (см. Персональная страница)
* Кнопка подтверждения введённой информации

### Страница со списком всех людей
* Список всех людей, добавленных в базу данных
* На каждого человека можно нажать, произойдет переход на его персональную страницу
* Сортировки по именам и датам рождения

### Персональная страница человека
* Возможность редактирования всех данных
* ФИО, дата рождения и смерти(если актуально)
* Дополнительная информация о человеке и местах его жительства
* Ссылки на родителей, супруга(у), детей
* Возможность проверить, является ли этот человек родственником определённого человека(например, Вас)

### Страница с родственными связями человека с другими людьми
* Настраиваемый уровень дальности родственных связей (по числу элементарных связей)
* Список всевозможных типов родственных связей у данного человека с искомым
* На каждого человека можно нажать, произойдет переход на его персональную страницу

### Страница с примерами деревьев
* Кнопка - ссылка на страницу-генератор нового дерева
* Кнопка "скачать" для деревьев из числа примеров

### Страница для создания дерева
* Основная страница сайта и основа его функционала. 
* Различные варианты построения родственных связей (только дети/родители, внуки).
* Настраиваемые степень кровного родства(в коленах) и степень родства "вверх" или "вниз" по дереву (на сколько сильно вырастает дерево в поколениях).
* Деревья не хранятся, кроме деревьев-примеров, а хранится вся необходимая информация для их построения.
* Если необходимое дерево уже есть в примерах, то выдается ссылка на готовое дерево.
* Дерево будет строиться при помощи языка UML.
* Функции:
	* Кнопка выбора человека
	* Кнопка для выбора настроек построения дерева

### Страница с готовым деревом
* Дерево, сгенерированное по новому запросу
* Кнопка "скачать дерево"
* Кнопка "добавить дерево в готовые"


## Сценарии использования 

### Добавление нового человека
* Перейти на главную страницу
* Нажать на кнопку "Добавить человека"
* Заполнить необходимые поля, подтвердить изменения

### Поиск человека по имени
* Перейти на главную страницу
* 2 варианта:
* 1.1) Нажать на кнопку "показать всех добавленных людей"
* 1.2)Отсортировать список
* 1.3)Перейти на персональную страницу нужного человека

* 2.1) Нажать на кнопку "найти по ФИО"
* 2.2) Ввести ФИО нужного человека
* 2.3) Если имена совпадают, то по дополнительной информации определить нужного

### Редактирование данных о человеке  
* Перейти на главную страницу
* Либо перейти на страницу со списком всех людей и найти нужного, либо нажать на кнопку "Поиск по имени" и ввести имя
* Вы оказались на персональной странице человека
* Нажать кнопку "Редактировать данные"
* Исправить необходимые поля
* Нажать кнопку "Подтвердить" 

### Проверка на наличие родственных связей с человеком
* Перйти на главную страницу
* Либо перейти на страницу со списком всех людей и найти нужного, либо нажать на кнопку "Поиск по имени" и ввести имя
* Вы оказались на персональной странице нужного вам человека
* Нажать на кнопку "узнать о родственных связях"
* Ввести ФИО (себя или кого-то)
* Выбрать максимальный уровень дальности связей
* Получить все виды родственных связей с нужным человеком

### Генерация генеалогического дерева человека
* Перейти на главную страницу
* Нажать кнопку "создать генеалогическое дерево"
* Выбрать необходимые параметры создания
* Нажать кнопку "Создать дерево", что приведёт на страницу со сгенерированным деревом и доступными действиями
	
### Просмотр готовых деревьев
* Перейти на главную страницу
* Нажать кнопку "посмотреть примеры деревьев"
* Выбрать и нажать на нужное дерево, посмотреть его, скачать при неоьходимости
* При желании можно нажать кнопку "создать новое дерево" и перейти на страницу с генерацией

